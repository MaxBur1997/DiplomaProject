{% extends 'base.html' %}

{% block title %}Menu{% endblock %}

{% block content %}
<h2>Menu</h2>

<!-- Форма фильтрации -->
<form action="{{ url_for('product.list_products') }}" method="get" style="margin-bottom: 1em;">
    <label for="min_price">Minimum Price:</label>
    <input type="number" id="min_price" name="min_price" step="0.01" value="{{ min_price or '' }}">

    <label for="max_price">Maximum Price:</label>
    <input type="number" id="max_price" name="max_price" step="0.01" value="{{ max_price or '' }}">

    <label for="name">Name:</label>
    <input type="text" id="name" name="name" value="{{ name or '' }}">

    <button type="submit">Apply</button>

    {% if min_price or max_price or name %}
    <a href="{{ url_for('product.list_products') }}" class="button">Reset</a>
    {% endif %}
</form>

<!-- Список продуктов -->
{% if products %}
    <ul>
        {% for product in products %}
            <li>
                <h3>{{ product.name }}</h3>
                <img src="{{ product.image_url }}" alt="{{ product.name }}" width="150">
                <p>Price: ${{ product.price }}</p>
                <a href="{{ url_for('product.product_detail', product_id=product.id) }}">View Details</a>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No products found matching your criteria.</p>
{% endif %}
{% endblock %}
